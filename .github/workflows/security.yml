name: Security
# Slack: #help-product-security

permissions:
  contents: write
  pull-requests: write
  statuses: write
  security-events: write
  # required to fetch internal or private CodeQL packs
  packages: read
  actions: read
  contents: read

on:
  pull_request:
    branches: [ main ]
  push:
    branches: [ addCodeScans ]
  workflow_dispatch:

jobs:
  code-scanning:
    uses: braintree/security-workflows/.github/workflows/codeql-android.yml@jlesus-android

  dependency-review:
    uses: braintree/security-workflows/.github/workflows/dependency-review-gradle.yml@jlesus-android